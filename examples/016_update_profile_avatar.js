/* 
 * Updating profile information as well as the avatar is done through the account objects 
 * that are accessiable from the Freech object.
 */


Freech = require("../src/Freech.js");

Freech.loadServerAccounts(function(){

  Freech.getAccount("frimbuktu").updateProfileFields(
    {fullName: "New Fullname",test:"test"},function(profile){

      console.log("new profile:",profile.getAllFields())

  });

  Freech.getAccount("frimbuktu").updateAvatar(
    'data:image/jpeg;base64,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'
    ,function(avatar){

      console.log(avatar.getUrl())

  });

});